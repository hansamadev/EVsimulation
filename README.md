
# Motor Efficiency Simulation

This project simulates the motor efficiency, battery state of charge (SOC), motor temperature, and battery temperature of an electric vehicle. The simulation tracks these parameters over time and visualizes them. The purpose of the simulation is to provide insight into motor efficiency, battery health, and thermal management.

## Project Content

- **Motor Power and Efficiency**: Tracks the power generated by the motor and the efficiency of the motor over time.
- **Battery State of Charge (SOC)**: Tracks the battery state of charge and how it changes over time.
- **Temperature Management**: Tracks the motor and battery temperatures, considering thermal management.
- **Simulation Time**: The simulation runs for 3600 seconds (1 hour).
- **Data Saving and Visualization**: Results are saved to a CSV file, and various parameters are visualized over time.

## User Guide

### Requirements

To run the simulation, you need to have the following Python libraries:

- `numpy`
- `matplotlib`
- `json`
- `csv`
- `scipy`
- `pandas`

You can install the required libraries by running the following command:

```bash
pip install numpy matplotlib scipy pandas
```

### `config.json` File

The parameters for the simulation are loaded from the **`config.json`** file. This file contains motor power, torque, battery capacity, temperature values, etc.

#### Example `config.json` File:

```json
{
    "motor_power": 150000,
    "max_torque": 350,
    "max_rpm": 6000,
    "battery_capacity": 60,
    "initial_battery_temp": 25,
    "initial_motor_temp": 30,
    "max_battery_temp": 60,
    "max_motor_temp": 90,
    "time_step": 0.1,
    "road_segments": [
        {"length": 500, "slope": 0, "rolling_resistance": 0.01},
        {"length": 200, "slope": 5, "rolling_resistance": 0.015},
        {"length": 300, "slope": -3, "rolling_resistance": 0.01}
    ],
    "ambient_temp": 25
}
```

### Running the Simulation

To run the simulation, follow these steps:

1. Start your Python environment.
2. Run the following command in the directory where **`config.json`** is located:

```bash
python script.py
```

The simulation will run for 1 hour (3600 seconds), tracking motor efficiency, battery SOC, motor temperature, and battery temperature.

### Output and Visualization

At the end of the simulation, the following outputs are generated:
- **Graphs**:
  - Motor Efficiency Graph
  - Motor Power Graph
  - Battery State of Charge (SOC) Graph
  - Motor Temperature Graph
  - Battery Temperature Graph
- **CSV File**: The simulation results are saved to a CSV file. The file will look like the following:

| Time (s) | Motor Power (kW) | SOC (%) | Motor Temperature (째C) | Battery Temperature (째C) |
|----------|-------------------|---------|------------------------|--------------------------|
| 0        | 100               | 90      | 50                     | 40                       |
| 10       | 105               | 89      | 52                     | 41                       |
| ...      | ...               | ...     | ...                    | ...                      |

### Simulation Results

The results include the following parameters for each time step:

- **Time (s)**: The elapsed time in the simulation.
- **Motor Power (kW)**: The current power produced by the motor.
- **SOC (%)**: The state of charge of the battery.
- **Motor Temperature (째C)**: The temperature of the motor.
- **Battery Temperature (째C)**: The temperature of the battery.

### Main Graphs

The following graphs are plotted during the simulation:

1. **Motor Efficiency**: Shows how the motor efficiency changes over time.
2. **Motor Power**: Displays the motor's generated power over time.
3. **SOC (State of Charge)**: Shows the battery's state of charge over time.
4. **Motor Temperature**: Displays the motor's temperature over time.
5. **Battery Temperature**: Shows the battery's temperature over time.

### Potential Improvements

- **Battery Regeneration**: Adding simulations for regenerative braking or energy recovery.
- **More Detailed Thermal Management**: Adding more complex thermal models for the motor and battery.
- **Realistic Road Profiles**: Including road profiles, friction coefficients, and more realistic simulation parameters.

### License

This project is licensed under the MIT License.
